<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="../css/bootstrapDemo.css">
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
    <script src="../js/html2canvas.js"></script>
</head>

<body>
    <table width="100%" style="margin: 40px 0px 40px 0px;">
        <tr>
            <td style="width: 25%; text-align: center;">
                <img src="../image/bootstrapDemo/logo.jpg">
            </td>
            <td style="width: 50%;text-align: center;">
                <div style="color: #34d6b7; font-size: 1.0em">My Oxygener Report
                </div>
                <div style="color: #404040; font-size: 3.0em">優氧報告結果：
                </div>
            </td>
            <td style="width: 25%;text-align: center;"></td>
        </tr>
    </table>
    <div id="table_canvas">
        <div class="container">
            <div class="card-columns card-columns-header">
                <div class="card card-grid-top" id="card-C-2">
                    <div class="card-body">
                        <h4 class="card-title text-center" id="card-title-C-2">創造有利條件的方法</h4>
                        <p class="card-text">供養不足分析供養不足分析供養不足分析供養不足分析供養不足分析</p>
                        <p class="card-text">供養不足分析供養不足分析供養不足分析供養不足分析供養不足分析</p>
                        <p class="card-text">供養不足分析供養不足分析供養不足分析供養不足分析供養不足分析供養不足分析供養不足分析供養不足分析供養不足分析供養不足分析</p>
                    </div>
                </div>
                <div class="card card-grid-top" id="card-C-1">
                    <div class="card-body">
                        <h4 class="card-title text-center" id="card-title-C-1">聚焦內在的方法</h4>
                        <p class="card-text">供養不足分析供養不足分析供養不足分析供養不足分析供養不足分析供養不足分析供養不足分析供養不足分析供養不足分析供養不足分析供養不足分析供養不足分析供養不足分析供養不足分析供養不足分析</p>
                        <p class="card-text">供養不足分析供養不足分析供養不足分析供養不足分析供養不足分析</p>
                        <p class="card-text">供養不足分析供養不足分析供養不足分析供養不足分析供養不足分析</p>
                    </div>
                </div>
            </div>
        </div>
        <div class="container">
            <div class="card-columns">
                <div class="card card-grid-middle-large" id="card-A-1">
                    <div class="card-body">
                        <h4 class="card-title text-center" id="card-title-A-1">供給性缺氧檢驗數據</h4>
                        <p class="card-text">供養不足分析供養不足分析供養不足分析供養不足分析供養不足分析</p>
                        <p class="card-text">供養不足分析供養不足分析供養不足分析供養不足分析供養不足分析</p>
                        <p class="card-text">供養不足分析供養不足分析供養不足分析供養不足分析供養不足分析</p>
                    </div>
                </div>
                <div class="card  card-grid-middle-large" id="card-A-2">
                    <div class="card-body">
                        <h4 class="card-title text-center">耗損性缺氧檢驗數據</h4>
                        <p class="card-text">能量不足分析</p>
                        <p class="card-text">能量不足分析</p>
                    </div>
                </div>
                <div class="card" id="card-A-3">
                    <div class="card-body card-grid-middle-small">
                        <h4 class="card-title text-center" id="card-title-A-3">熱性體質檢驗數據</h4>
                        <p class="card-text">損傷發炎程度 : x</p>
                        <p class="card-text">1. 損傷發炎程度損傷發炎程度損傷發炎程度損傷發炎程度損傷發炎程度損傷發炎程度損傷發炎程度損傷發炎程度損傷發炎程度損傷發炎程度損傷發炎程度損傷發炎程度損傷發炎程度損傷發炎程度損傷發炎程度損傷發炎程度</p>
                    </div>
                </div>
                <div class="card" id="card-A-4">
                    <div class="card-body card-grid-middle-small">
                        <h4 class="card-title text-center" id="card-title-A-4">濕性體質檢驗數據</h4>
                        <p class="card-text">循環淤滯程度 : x</p>
                        <p class="card-text">損傷發炎程度</p>
                    </div>
                </div>
                <div class="card" id="card-A-5">
                    <div class="card-body card-grid-middle-small">
                        <h4 class="card-title text-center" id="card-title-A-5">寒性體質檢驗數據</h4>
                        <p class="card-text">失調衰退程度 : x</p>
                        <p class="card-text">損傷發炎程度</p>
                    </div>
                </div>
                <div class="card" id="card-B-3">
                    <div class="card-body card-grid-middle-small">
                        <h4 class="card-title text-center" id="card-title-B-3">免疫代謝的方案</h4>
                        <p class="card-text">1. 損傷發炎程度損傷發炎程度損傷發炎程度損傷發炎程度損傷發炎程度損傷發炎程度損傷發炎程度損傷發炎程度損傷發炎程度損傷發炎程度損傷發炎程度損傷發炎程度損傷發炎程度損傷發炎程度損傷發炎程度損傷發炎程度</p>
                        <p class="card-text">2. 損傷發炎程度損傷發炎程度損傷發炎程度損傷發炎程度損傷發炎程度損傷發炎程度損傷發炎程度損傷發炎程度損傷發炎程度損傷發炎程度損傷發炎程度損傷發炎程度損傷發炎程度損傷發炎程度損傷發炎程度損傷發炎程度</p>
                        <p class="card-text">3. 損傷發炎程度損傷發炎程度損傷發炎程度損傷發炎程度損傷發炎程度損傷發炎程度損傷發炎程度損傷發炎程度損傷發炎程度損傷發炎程度損傷發炎程度損傷發炎程度損傷發炎程度損傷發炎程度損傷發炎程度損傷發炎程度</p>
                    </div>
                </div>
                <div class="card" id="card-B-4">
                    <div class="card-body card-grid-middle-small">
                        <h4 class="card-title text-center" id="card-title-B-4">微循環改善的方案</h4>
                        <p class="card-text">1.微循環改善的方案</p>
                        <p class="card-text">2.微循環改善的方案</p>
                        <p class="card-text">3.微循環改善的方案</p>
                    </div>
                </div>
                <div class="card" id="card-B-5">
                    <div class="card-body card-grid-middle-small">
                        <h4 class="card-title text-center" id="card-title-B-5">機能復甦的方案</h4>
                        <p class="card-text">1.機能復甦的方案</p>
                        <p class="card-text">2.機能復甦的方案</p>
                        <p class="card-text">3.機能復甦的方案</p>
                    </div>
                </div>
                <div class="card card-grid-middle-large" id="card-B-1">
                    <div class="card-body">
                        <h4 class="card-title text-center" id="card-title-B-1">供養治療的方案</h4>
                        <p class="card-text">1.供養治療的方案</p>
                        <p class="card-text">2.供養治療的方案</p>
                        <p class="card-text">3.供養治療的方案</p>
                    </div>
                </div>
                <div class="card card-grid-middle-large"  id="card-B-2">
                    <div class="card-body">
                        <h4 class="card-title text-center" id="card-title-B-2">耗氧治療的方案</h4>
                        <p class="card-text">1.耗氧治療的方案</p>
                        <p class="card-text">2.耗氧治療的方案</p>
                        <p class="card-text">3.耗氧治療的方案</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <a id="downloadimage1" href="#">下載 (12宮格頁面)</a>
    <script type="text/javascript">
    $(function() {
        console.log('onReady()');

        //下載檔案到local
        function saveAs(uri, filename) {
            var link = document.createElement('a');
            if (typeof link.download === 'string') {
                link.href = uri;
                link.download = filename;
                //Firefox requires the link to be in the body
                document.body.appendChild(link);
                //simulate click
                link.click();
                //remove the link when done
                document.body.removeChild(link);
            } else {
                window.open(uri);
            }
        }


        $("#downloadimage1").on('click', function() {
            console.log('onclick');
            html2canvas(document.getElementById("table_canvas")).then(function(canvas) {
                saveAs(canvas.toDataURL(), '12宮格頁面.png');
            });
            // html2canvas(document.getElementById("testdiv2")).then(function(canvas) {
            //     saveAs(canvas.toDataURL(), '詳細頁面.png');
            // });
        });

        var resizeTimer;

        $(window).on('resize', function(e) {
            console.log('resize timer');
            clearTimeout(resizeTimer);
            resizeTimer = setTimeout(function() {
                console.log('resize -----------------------');
                // $('.card-grid-middle-large').matchHeight();
                // Run code here, resizing has "stopped"

            }, 250);

        });

    });
    </script>
</body>

</html>